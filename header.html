<span class="profile-name pointer" name="main">Денис</span>
<div class="header-menu">
    <span class="pointer" name="images">Картинки</span></a>
    <span class="pointer" name="projects">Фан проекты</span>
</div>
<div class="theme-switch-wrapper">
    <label class="theme-text">Тёмная | Светлая</label>
    <label class="theme-switch" for="theme-checkbox">
        <input type="checkbox" id="theme-checkbox">
        <div class="slider round"></div>
    </label>
</div>
<img class="profile-image-top" src="images/profile.jpeg" >
<script>
    function switchTheme() {
        let theme = themeSwitchBtn.checked ? 'light':'dark'
        document.documentElement.setAttribute('data-theme', theme)
        localStorage.setItem('theme', theme)
    }

    function changeLocation() {
        window.location.hash = $(this).attr('name')
        updateSelectedDraw()
    }
    function updateSelectedDraw() {
        if (window.location.hash == '') {window.location.hash = 'main'}
        $('.profile-name').removeClass('selected-menu')
        $(headerMenuElements).removeClass('selected-menu')
        $(`[name='${window.location.hash.slice(1)}']`).addClass('selected-menu')
    }

    const themeSwitchBtn = document.querySelector('#theme-checkbox');
    const currentTheme = localStorage.getItem('theme');
    const headerMenuElements = document.querySelector('.header-menu').children
    
    $('.profile-name').click(changeLocation)
    $(headerMenuElements).click(changeLocation)

    if (currentTheme) {
        document.documentElement.setAttribute('data-theme', currentTheme)
        if (currentTheme === 'light') {themeSwitchBtn.checked = true}
    } else {
        document.documentElement.setAttribute('data-theme', 'dark')
    }

    themeSwitchBtn.addEventListener('change', switchTheme, false)
    switchTheme()
    updateSelectedDraw()
</script>